require_relative '../test_helper'

describe 'refactor' do
  it 'should refactor expand_palette' do
    colors = {"#276b96"=>[1098, 1.072265625], "#1e6da8"=>[94, 0.091796875], "#397bac"=>[12319, 12.0302734375], "#2978b3"=>[711, 0.6943359375], "#697f97"=>[207, 0.2021484375], "#3284b7"=>[1022, 0.998046875], "#6395bc"=>[1242, 1.212890625], "#7c9cb8"=>[97, 0.0947265625], "#458ab6"=>[5187, 5.0654296875], "#4e9ed3"=>[606, 0.591796875], "#96b5cf"=>[236, 0.23046875], "#85b5d2"=>[194, 0.189453125], "#c2d8e5"=>[197, 0.1923828125], "#f7f9fd"=>[1079, 1.0537109375], "#fefefa"=>[2970, 2.900390625], "#fafefe"=>[1207, 1.1787109375]}
    expanded = Colorcake.expand_palette(colors)
    expanded_stub = {"#276b96"=>[1098, 1.072265625], "#1e6da8"=>[94, 0.091796875], "#397bac"=>[12319, 12.0302734375], "#2978b3"=>[711, 0.6943359375], "#697f97"=>[207, 0.2021484375], "#3284b7"=>[1022, 0.998046875], "#6395bc"=>[1242, 1.212890625], "#7c9cb8"=>[97, 0.0947265625], "#458ab6"=>[5187, 5.0654296875], "#4e9ed3"=>[606, 0.591796875], "#96b5cf"=>[236, 0.23046875], "#85b5d2"=>[194, 0.189453125], "#c2d8e5"=>[197, 0.1923828125], "#f7f9fd"=>[1079, 1.0537109375], "#fefefa"=>[2970, 2.900390625], "#fafefe"=>[1207, 1.1787109375], "#90b4ca"=>[1, 2]}
    expanded.must_equal expanded_stub
  end

  it 'should refactor compute_b' do
    c = ["60203", "62214", "62306", "0"]
    expanded = Colorcake.compute_b(c)
    expanded_stub = [234, 242, 242]
    expanded.must_equal expanded_stub
  end

end
